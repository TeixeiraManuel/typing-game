const data ={
    "game": [
        {
            "en": "house",
            "pt": "casa"
        },
        {
            "en": "car",
            "pt": "carro"
        },
        {
            "en": "book",
            "pt": "livro"
        },
        {
            "en": "dog",
            "pt": "cachorro"
        },
        {
            "en": "cat",
            "pt": "gato"
        },
        {
            "en": "water",
            "pt": "água"
        },
        {
            "en": "food",
            "pt": "comida"
        },
        {
            "en": "bed",
            "pt": "cama"
        },
        {
            "en": "sun",
            "pt": "sol"
        },
        {
            "en": "moon",
            "pt": "lua"
        },
        {
            "en": "red",
            "pt": "vermelho"
        },
        {
            "en": "blue",
            "pt": "azul"
        },
        {
            "en": "green",
            "pt": "verde"
        },
        {
            "en": "yellow",
            "pt": "amarelo"
        },
        {
            "en": "black",
            "pt": "preto"
        },
        {
            "en": "white",
            "pt": "branco"
        },
        {
            "en": "purple",
            "pt": "roxo"
        },
        {
            "en": "orange",
            "pt": "laranja"
        },
        {
            "en": "pink",
            "pt": "rosa"
        },
        {
        "en": "brown",
        "pt": "marrom"
        },
        {
            "en": "one",
            "pt": "um"
        },
        {
            "en": "two",
            "pt": "dois"
        },
        {
            "en": "three",
            "pt": "três"
        },
        {
            "en": "four",
            "pt": "quatro"
        },
        {
            "en": "five",
            "pt": "cinco"
        },
        {
            "en": "six",
            "pt": "seis"
        },
        {
            "en": "seven",
            "pt": "sete"
        },
        {
            "en": "eight",
            "pt": "oito"
        },
        {
            "en": "nine",
            "pt": "nove"
        },
        {
            "en": "ten",
            "pt": "dez"
        },
        {
            "en": "mother",
            "pt": "mãe"
        },
        {
            "en": "father",
            "pt": "pai"
        },
        {
            "en": "sister",
            "pt": "irmã"
        },
        {
            "en": "brother",
            "pt": "irmão"
        },
        {
            "en": "grandmother",
            "pt": "avó"
        },
        {
            "en": "grandfather",
            "pt": "avô"
        },
        {
            "en": "aunt",
            "pt": "tia"
        },
        {
            "en": "uncle",
            "pt": "tio"
        },
        {
            "en": "cousin",
            "pt": "primo"
        },
        {
            "en": "family",
            "pt": "família"
        },
        {
            "en": "breakfast",
            "pt": "café da manhã"
        },
        {
            "en": "lunch",
            "pt": "almoço"
        },
        {
            "en": "dinner",
            "pt": "jantar"
        },
        {
            "en": "sandwich",
            "pt": "sanduíche"
        },
        {
            "en": "cheese",
            "pt": "queijo"
        },
        {
            "en": "butter",
            "pt": "manteiga"
        },
        {
            "en": "chicken",
            "pt": "frango"
        },
        {
            "en": "meat",
            "pt": "carne"
        },
        {
            "en": "vegetable",
            "pt": "vegetal"
        },
        {
            "en": "fruit",
            "pt": "fruta"
        },
        {
            "en": "restaurant",
            "pt": "restaurante"
        },
        {
            "en": "hospital",
            "pt": "hospital"
        },
        {
            "en": "school",
            "pt": "escola"
        },
        {
            "en": "university",
            "pt": "universidade"
        },
        {
            "en": "library",
            "pt": "biblioteca"
        },
        {
            "en": "market",
            "pt": "mercado"
        },
        {
            "en": "park",
            "pt": "parque"
        },
        {
            "en": "beach",
            "pt": "praia"
        },
        {
            "en": "airport",
            "pt": "aeroporto"
        },
        {
            "en": "station",
            "pt": "estação"
        },
        {
            "en": "teacher",
            "pt": "professor"
        },
        {
            "en": "doctor",
            "pt": "médico"
        },
        {
            "en": "engineer",
            "pt": "engenheiro"
        },
        {
            "en": "lawyer",
            "pt": "advogado"
        },
        {
            "en": "nurse",
            "pt": "enfermeiro"
        },
        {
            "en": "chef",
            "pt": "cozinheiro"
        },
        {
            "en": "artist",
            "pt": "artista"
        },
        {
            "en": "musician",
            "pt": "músico"
        },
        {
            "en": "driver",
            "pt": "motorista"
        },
        {
            "en": "writer",
            "pt": "escritor"
        },
        {
            "en": "happiness",
            "pt": "felicidade"
        },
        {
            "en": "sadness",
            "pt": "tristeza"
        },
        {
            "en": "anger",
            "pt": "raiva"
        },
        {
            "en": "fear",
            "pt": "medo"
        },
        {
            "en": "surprise",
            "pt": "surpresa"
        },
        {
            "en": "anxiety",
            "pt": "ansiedade"
        },
        {
            "en": "excitement",
            "pt": "empolgação"
        },
        {
            "en": "frustration",
            "pt": "frustração"
        },
        {
            "en": "jealousy",
            "pt": "ciúme"
        },
        {
            "en": "confidence",
            "pt": "confiança"
        },
        {
            "en": "freedom",
            "pt": "liberdade"
        },
        {
            "en": "justice",
            "pt": "justiça"
        },
        {
            "en": "peace",
            "pt": "paz"
        },
        {
            "en": "love",
            "pt": "amor"
        },
        {
            "en": "truth",
            "pt": "verdade"
        },
        {
            "en": "wisdom",
            "pt": "sabedoria"
        },
        {
            "en": "courage",
            "pt": "coragem"
        },
        {
            "en": "hope",
            "pt": "esperança"
        },
        {
            "en": "friendship",
            "pt": "amizade"
        },
        {
            "en": "destiny",
            "pt": "destino"
        },
        {
            "en": "computer",
            "pt": "computador"
        },
        {
            "en": "smartphone",
            "pt": "celular"
        },
        {
            "en": "internet",
            "pt": "internet"
        },
        {
            "en": "software",
            "pt": "software"
        },
        {
            "en": "hardware",
            "pt": "hardware"
        },
        {
            "en": "network",
            "pt": "rede"
        },
        {
            "en": "database",
            "pt": "banco de dados"
        },
        {
            "en": "algorithm",
            "pt": "algoritmo"
        },
        {
            "en": "programming",
            "pt": "programação"
        },
        {
            "en": "cybersecurity",
            "pt": "cibersegurança"
        },
        {
            "en": "hypothesis",
            "pt": "hipótese"
        },
        {
            "en": "theory",
            "pt": "teoria"
        },
        {
            "en": "experiment",
            "pt": "experimento"
        },
        {
            "en": "analysis",
            "pt": "análise"
        },
        {
            "en": "synthesis",
            "pt": "síntese"
        },
        {
            "en": "methodology",
            "pt": "metodologia"
        },
        {
            "en": "quantum",
            "pt": "quântico"
        },
        {
            "en": "relativity",
            "pt": "relatividade"
        },
        {
            "en": "evolution",
            "pt": "evolução"
        },
        {
            "en": "genetics",
            "pt": "genética"
        },
        {
            "en": "epistemology",
            "pt": "epistemologia"
        },
        {
            "en": "metaphysics",
            "pt": "metafísica"
        },
        {
            "en": "ontology",
            "pt": "ontologia"
        },
        {
            "en": "existentialism",
            "pt": "existencialismo"
        },
        {
            "en": "phenomenology",
            "pt": "fenomenologia"
        },
        {
            "en": "dialectics",
            "pt": "dialética"
        },
        {
            "en": "rationalism",
            "pt": "racionalismo"
        },
        {
            "en": "empiricism",
            "pt": "empirismo"
        },
        {
            "en": "materialism",
            "pt": "materialismo"
        },
        {
            "en": "idealism",
            "pt": "idealismo"
        },
        {
        "en": "entrepreneurship",
        "pt": "empreendedorismo"
        },
        {
            "en": "sustainability",
            "pt": "sustentabilidade"
        },
        {
            "en": "innovation",
            "pt": "inovação"
        },
        {
            "en": "management",
            "pt": "gestão"
        },
        {
            "en": "leadership",
            "pt": "liderança"
        },
        {
            "en": "strategy",
            "pt": "estratégia"
        },
        {
            "en": "marketing",
            "pt": "marketing"
        },
        {
            "en": "investment",
            "pt": "investimento"
        },
        {
            "en": "negotiation",
            "pt": "negociação"
        },
        {
            "en": "partnership",
            "pt": "parceria"
        }
    ]
}

let score= document.querySelector('#score');
let error = document.querySelector('#error');
let resultsError= document.querySelector('#resultserror');
let resultsCorrect = document.querySelector('#resultsCorrect');
let timer = document.querySelector('#timer');
let wpm = document.querySelector('#wpm');
let correct = document.querySelector('#correct');
let currentWord = document.querySelector('.current-word');
let translation = document.querySelector('.translation');
let modal = document.querySelector('.modal')
let button = document.querySelector('.retry')

var wordValue = data.game;
var randomIndex;
let translateValue;
let timeLeft = 60;
let scoreValue = 0;
let wpmValue= 0;
let timerValue;
let isPlaying = false;
let correctValue = 0;
let errorValue = 0;

initialValues()

document.querySelector('.input').addEventListener('input',(e)=>{
    checkInputValue(e.target.value);
})

function initialValues(){
    wordValue[randomIndex];
    randomIndex = Math.floor(Math.random() * data.game.length);
    if (timer) clearInterval(timer);
    startGame()
    
    setTimer()
    updateValues(wordValue[randomIndex].en,wordValue[randomIndex].pt)
}

function updateValues(current, translate){
    currentWord.textContent = current;
    translation.textContent = translate;
}

function startGame(){
    isPlaying = true
    timeLeft = 60;
}

function getWordRandow(){
    randomIndex = Math.floor(Math.random() * data.game.length);
    wordValue[randomIndex];
    updateValues(wordValue[randomIndex].en,wordValue[randomIndex].pt)
}

function checkInputValue(value){ 

    if(!isPlaying) {return}
    const currentWord = wordValue[randomIndex].en;
    const inputValue = value.toLowerCase();
    const currentWordLower = currentWord.toLowerCase();

    if (currentWordLower === inputValue) {
        correct.textContent = correctValue +=1;
        wpm.textContent = wpmValue +=1;
        score.textContent = scoreValue += 10;
        document.querySelector('.input').value = '';
        getWordRandow()
    } else if (currentWord.length === value.length) {
        error.textContent = errorValue +=1;
        wpm.textContent = wpmValue +=1;
        document.querySelector('.input').value = '';
        console.log('Errors:');
    }
}

function setTimer() {
    timerValue = setInterval(() => {
        if (timeLeft > 0) {
            timeLeft--;
            // Atualiza display do tempo
             timer.textContent= timeLeft;
             console.log(timerValue)
        } else {
            endGame();
        }
    }, 1000);
}

function endGame() {
    timerValue = 0;
    isPlaying = false;
    resultsCorrect.textContent = correctValue
    resultsError.textContent = errorValue
    modal.classList.add('on')

    document.querySelector('.input').disabled = true;
}

button.addEventListener('click',()=>{
    document.querySelector('.input').disabled = false;
    correct.textContent = correctValue = 0;
    score.textContent = scoreValue += 0;
    error.textContent = errorValue = 0;
    wpm.textContent = wpmValue= 0;
    modal.classList.remove('on')

    initialValues()
})